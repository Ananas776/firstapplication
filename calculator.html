<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- the Bootstrap framework is included via a link -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <title>Calculator</title>
    <!-- some CSS code for styling this calculator -->
    <style type="text/css">
      #calc {
        width: 380px;
        border-radius: 8px;
        border-color: #abc6c2;
        padding: 8px;
        margin-top: 20px;
        margin-left: auto;
        margin-right: auto;
        background: #224662;
      }
      #display {
        background: #bcbcbc;
        padding: 8px;
        margin: 16px 12px 10px 16px;
        text-align: center;
        border-radius: 8px;
      }
      #keyboard {
        margin-bottom: 8px;
      }
      .row {
        margin-top: 4px;
      }
      #result p {
        font-size: 1.8em;
      }

      #result {
        text-align: right;
      }
      button {
        width: 76px;
        margin: 2px;
      }
      .btn-zero {
        width: 163px;
      }
    </style>
  </head>
  <body style="font-family: 'Ubuntu', sans-serif">
    <!-- creating a wrapper div with the class container-sm is used to create a container with a fixed width for the page content -->
    <div class="container-sm">
      <div class="row">
        <div class="col">
          <div class="p-1 bg-body-tertiary text-dark">
            <div>
              <!-- header which shows in the centre -->
              <h2 class="text-center">Calculator</h2>
            </div>
            <!-- this is the main content of the calculator, including the display screen and buttons -->
            <div id="calc" class="text-center">
              <div id="display">
                <div id="result">0</div>
              </div>
              <div id="keyboard">
                <div class="row">
                  <div class="col">
                    <!-- button for clear input -->
                    <button class="btn btn-danger" value="ce" onclick="clearInput()">CE</button>
                    <!-- button for clear input element by element -->
                    <button class="btn btn-danger col-5" value="del" onclick="clearLastSymbol()">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        fill="currentColor"
                        class="bi bi-backspace"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M5.83 5.146a.5.5 0 0 0 0 .708L7.975 8l-2.147 2.146a.5.5 0 0 0 .707.708l2.147-2.147 2.146 2.147a.5.5 0 0 0 .707-.708L9.39 8l2.146-2.146a.5.5 0 0 0-.707-.708L8.683 7.293 6.536 5.146a.5.5 0 0 0-.707 0z"
                        />
                        <path
                          d="M13.683 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7.08a2 2 0 0 1-1.519-.698L.241 8.65a1 1 0 0 1 0-1.302L5.084 1.7A2 2 0 0 1 6.603 1zm-7.08 1a1 1 0 0 0-.76.35L1 8l4.844 5.65a1 1 0 0 0 .759.35h7.08a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"
                        />
                      </svg>
                    </button>
                    <button class="btn btn-outline-warning" value="/" onclick="addValue('/')">
                      /
                    </button>
                  </div>
                </div>
                <div class="row">
                  <!-- buttons include digit from  7 to 9 and * -->
                  <div class="col">
                    <button class="btn btn-outline-info" value="7" onclick="addValue('7')">
                      7
                    </button>
                    <button class="btn btn-outline-info" value="8" onclick="addValue('8')">
                      8
                    </button>
                    <button class="btn btn-outline-info" value="9" onclick="addValue('9')">
                      9
                    </button>
                    <button class="btn btn-outline-warning" value="*" onclick="addValue('*')">
                      *
                    </button>
                  </div>
                </div>
                <div class="row">
                  <!-- buttons include digit from  4 to 6 and - -->
                  <div class="col">
                    <button class="btn btn-outline-info" value="4" onclick="addValue('4')">
                      4
                    </button>
                    <button class="btn btn-outline-info" value="5" onclick="addValue('5')">
                      5
                    </button>
                    <button class="btn btn-outline-info" value="6" onclick="addValue('6')">
                      6
                    </button>
                    <button class="btn btn-outline-warning" value="-" onclick="addValue('-')">
                      -
                    </button>
                  </div>
                </div>
                <div class="row">
                  <!-- buttons include digit from  1 to 3 and + -->
                  <div class="col">
                    <button class="btn btn-outline-info" value="1" onclick="addValue('1')">
                      1
                    </button>
                    <button class="btn btn-outline-info" value="2" onclick="addValue('2')">
                      2
                    </button>
                    <button class="btn btn-outline-info" value="3" onclick="addValue('3')">
                      3
                    </button>
                    <button class="btn btn-outline-warning" value="+" onclick="addValue('+')">
                      +
                    </button>
                  </div>
                </div>
                <div class="row">
                  <!-- buttons include 0, ., = -->
                  <div class="col">
                    <button class="btn btn-outline-info btn-zero" value="0" onclick="addValue('0')">
                      0
                    </button>
                    <button class="btn btn-outline-warning" value="." onclick="addValue('.')">
                      .
                    </button>
                    <button class="btn btn-success" value="=" onclick="calculate()">=</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- fixed navigation bar nav is included with links to different pages of the web application -->
      <nav class="navbar fixed-bottom navbar-light bg-dark-subtle">
        <!-- link is represented by an a element with a corresponding icon, providing navigation to Home Page -->
        <a class="nav-link active" href="index.html">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="35"
            height="35"
            fill="currentColor"
            class="bi bi-house"
            viewBox="0 0 16 16"
          >
            <path
              d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z"
            />
          </svg>
        </a>
        <!-- link is represented by an a element with a corresponding icon, providing navigation to Tips Calculator Page -->
        <a class="nav-link" href="tips.html">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="35"
            height="35"
            fill="currentColor"
            class="bi bi-cash"
            viewBox="0 0 16 16"
          >
            <path d="M8 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" />
            <path
              d="M0 4a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V4zm3 0a2 2 0 0 1-2 2v4a2 2 0 0 1 2 2h10a2 2 0 0 1 2-2V6a2 2 0 0 1-2-2H3z"
            />
          </svg>
        </a>
        <!-- link is represented by an a element with a corresponding icon, providing navigation to Roll The Dice Page -->
        <a class="nav-link" href="dice.html">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="35"
            height="35"
            fill="currentColor"
            class="bi bi-dice-5"
            viewBox="0 0 16 16"
          >
            <path
              d="M13 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h10zM3 0a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3z"
            />
            <path
              d="M5.5 4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm4-4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"
            />
          </svg>
        </a>
        <!-- link is represented by an a element with a corresponding icon, providing navigation to Full Calculator Page -->
        <a class="nav-link" href="calculator.html">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="35"
            height="35"
            fill="currentColor"
            class="bi bi-calculator"
            viewBox="0 0 16 16"
          >
            <path
              d="M12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h8zM4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4z"
            />
            <path
              d="M4 2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-2zm0 4a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-4z"
            />
          </svg>
        </a>
      </nav>
    </div>

    <script type="text/javascript">
      // array with contains symbols of mathematical operators
      const symbols = ["+", "-", "/", "*"];
      // empty array for result
      var resultArray = [];

      //appends the clicked button's value to the display, performing checks to ensure valid input
      function addValue(value) {
        // get data from an input field
        var equasion = document.getElementById("result").innerHTML.toLowerCase();

        // a function is invoked to examine whether the input field contains any invalid or "dirty" data,
        //after which the outcome is stored in a variable named equation
        equasion = CheckForDirtyInput(equasion, value);
        // it verifies if the last character in the equation corresponds to a mathematical operator,
        //thereby inhibiting consecutive operator entries
        equasion = mathematicalOperatorInputCheck(equasion, value);

        // it assigns a fresh value or symbol to the equation
        equasion += value;

        //the input field is then refreshed with the updated value or symbol
        document.getElementById("result").innerHTML = equasion;
      }

      //checks if the last input was a mathematical operator and prevents consecutive operator inputs.
      function mathematicalOperatorInputCheck(inputEquasion, value) {
        //retrieve the final character
        var lastValue = inputEquasion[inputEquasion.length - 1];

        //if the current character and the preceding one are symbols, delete the final character
        if (symbols.includes(lastValue) && symbols.includes(value)) {
          //for eliminating the last character
          inputEquasion = inputEquasion.substring(0, inputEquasion.length - 1);
        }

        return inputEquasion;
      }

      //handles cleaning the input field from placeholders and special values like "infinity" or "NaN"
      function CheckForDirtyInput(input, value) {
        // 0 - is a placeholder by default
        // the condition checks whether to replace placehlder or not (if input is 0 or symbol)
        if (input == "0" && value != "0" && value != "." && !symbols.includes(value)) {
          input = input.replace("0", "");
        }
        // if the previous result was “infinity”, then remove it from the input field (for example, division by zero)
        else if (input.includes("infinity")) {
          input = input.replace("infinity", "");
        }
        // if the previous result was “nan”, then remove it from the input field (for example 0/0)
        else if (input.includes("nan")) {
          input = input.replace("nan", "");
        }
        // if the previous result was “undefined”, then remove it from the input field (for example an empty field)
        else if (input.includes("undefined")) {
          input = input.replace("undefined", "");
        }
        // return a clean input field
        return input;
      }

      //clears the display
      function clearInput() {
        document.getElementById("result").innerHTML = "0";
      }
      //removes the last character from the display
      function clearLastSymbol() {
        var input = document.getElementById("result").innerHTML;
        document.getElementById("result").innerHTML = input.substring(0, input.length - 1);
      }

      //evaluates the arithmetic expression in the display using eval() function, rounding the result to two decimal places
      function calculate() {
        //the try-catch block manages any invalid inputs like text or an empty string
        try {
          //the eval() function processes a string representing a mathematical equation to produce its outcome
          var result = eval(document.getElementById("result").innerHTML);
          //the round() function rounds numbers to two decimal points after the decimal (e.g., 7.3333 becomes 7.33).
          var roundedResult = Math.round(result * 100) / 100;
          //showcase the outcome in the input field
          document.getElementById("result").innerHTML = roundedResult;
        } catch (error) {
          alert("Incorrect input values!");
        }
      }
    </script>
  </body>
</html>
